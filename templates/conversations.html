{% extends "base.html" %}

{% block head %}{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold mb-4">Conversations</h2>

<div class="bg-gray-800 rounded p-4">
  {% if conversations %}
    <table class="w-full text-left text-sm">
      <thead class="text-gray-300">
        <tr>
          <th class="py-2">ID</th>
          <th class="py-2">Title</th>
          <th class="py-2">Created</th>
          <th class="py-2"></th>
        </tr>
      </thead>
      <tbody>
        {% for c in conversations %}
          <tr class="border-t border-gray-700">
            <td class="py-2">{{ c[0] }}</td>
            <td class="py-2">{{ c[1] or '(untitled)' }}</td>
            <td class="py-2">{{ c[2] }}</td>
            <td class="py-2">
              <a class="text-indigo-400 hover:underline"
                 href="{{ request.scope.root_path }}/conversations/{{ c[0] }}">
                 Open
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="text-gray-400">No conversations yet.</p>
  {% endif %}
</div>
{% endblock %}
